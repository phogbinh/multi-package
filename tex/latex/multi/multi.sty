\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{multi}[2022/07/22 Multi Package]

\RequirePackage{amsthm}
\RequirePackage{amssymb}
\RequirePackage{optidef}

\DeclareOption*{\PackageWarning{multi}{Unknown "\CurrentOption"}}
\ProcessOptions\relax

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% MULTI
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newtheorem{multiTheorem}{Theorem}

\newcommand{\comma}{,}
\newcommand{\period}{.}
\newcommand{\proofNote}{(proof in supplementary)}

\newcommand
{\proofSupplementary}
{
\begin{proof}
  The proof is available in the supplementary.
\end{proof}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% FONT
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\DeclareMathAlphabet{\mathscr}{OT1}{pzc}{m}{it}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% MATH
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\const}{\mathrm}
\newcommand{\zeroLimitPos}{0^{+}}
\renewcommand{\vec}[1]{\boldsymbol{\mathbf{#1}}}
\newcommand{\zeroVec}{\vec{0}}
\newcommand{\oneVec}{\vec{1}}
\newcommand{\setDst}[1]{\left\{#1\right\}}
\newcommand{\setDef}[1]{\setDst{0, \dots, #1 - 1}}
\newcommand{\subjectTo}{\middle|}
\newcommand{\set}[1]{\mathcal{\MakeUppercase{#1}}}
\newcommand{\setNum}[1]{\MakeUppercase{#1}}
\newcommand{\mat}[1]{\mathscr{#1}}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}
\newcommand{\tuple}[1]{(#1)}
\newcommand{\ceil}[1]{\left\lceil#1\right\rceil}
\newcommand{\card}[1]{\mathbf{card}#1}
\newcommand{\approximationRatio}{\rho}
\newcommand{\domainToRange}{\to}
\newcommand{\limitTo}{\to}
\newcommand{\mathSet}[1]{\mathbb{#1}}
\newcommand{\nonnegativeSet}[1]{#1_{+}}
\newcommand{\sampleSpaceSet}{\mathSet{S}}
\newcommand{\integralSet}{\mathSet{Z}}
\newcommand{\nonnegativeIntegralSet}{\nonnegativeSet{\integralSet}}
\newcommand{\bigO}[1]{O(#1)}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% PROBLEM
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\embbUser}{u}
\newcommand{\embbUserSet}{\set{\embbUser}}
\newcommand{\embbUsersNum}{\setNum{\embbUser}}
\newcommand{\embbUserCandidate}{\hat{\embbUser}}
\newcommand{\embbRa}{\alpha}
\newcommand{\embbRaCandidate}{\hat{\embbRa}}
\newcommand{\embbRaVec}{\vec{\embbRa}}
\newcommand{\embbRaVecCandidate}{\hat{\embbRaVec}}
\newcommand{\embbRaVecRelax}{\embbRaVec^{\prime}}
\newcommand{\embbRaVecRelaxCandidate}{\vec{\embbRaCandidate}^{\prime}}
\newcommand{\embbRaVecOneCandidate}{\embbRaVecCandidate_{\timeSlot}}
\newcommand{\embbRaVecOneCandidateCur}{\embbRaVecCandidate_{\timeSlotCur}}
\newcommand{\embbRaVecOneRelaxCur}{\embbRaVecRelax_{\timeSlotCur}}
\newcommand{\embbRaFour}{\embbRa_{\embbUser, \timeSlot, \baseStation, \subchannel}}
\newcommand{\embbRaFourCandidate}{\embbRaCandidate_{\embbUser, \timeSlot, \baseStation, \subchannel}}
\newcommand{\embbRaFourCandidateCur}{\embbRaCandidate_{\embbUser, \timeSlotCur, \baseStation, \subchannel}}
\newcommand{\embbRaFourRelax}{\embbRaFour^{\prime}}
\newcommand{\embbRaFourRelaxCandidate}{\embbRaCandidate_{\embbUser, \timeSlot, \baseStation, \subchannel}^{\prime}}
\newcommand{\embbRaFourRelaxCur}{\embbRa_{\embbUser, \timeSlotCur, \baseStation, \subchannel}^{\prime}}
\newcommand{\embbRateTwoRelax}{\rate_{\embbUser, \timeSlot}^{\prime}}
\newcommand{\embbRateFourRelax}{\rate_{\embbUser, \timeSlot, \baseStation, \subchannel}^{\prime}}
\newcommand{\embbRateTwoRelaxDecrement}{\rate_{\embbUser, \timeSlotDecrement}^{\prime}}
\newcommand{\embbRateTwoRelaxCur}{\rate_{\embbUser, \timeSlotCur}^{\prime}}
\newcommand{\embbRateRandTwo}{\rateRand_{\embbUser, \timeSlot}}
\newcommand{\embbRateRandFour}{\rateRand_{\embbUser, \timeSlot, \baseStation, \subchannel}}
\newcommand{\embbPeakRateFour}{\peakRate_{\embbUser, \timeSlot, \baseStation, \subchannel}}
\newcommand{\embbPeakRateFourCur}{\peakRate_{\embbUser, \timeSlotCur, \baseStation, \subchannel}}
\newcommand{\embbPeakRateFourUserCandidate}{\peakRate_{\embbUserCandidate, \timeSlot, \baseStation, \subchannel}}
\newcommand{\embbPeakRateFourInitial}{\peakRate_{\embbUser, 0, \baseStation, \subchannel}}
\newcommand{\embbPeakRateRandFour}{\peakRateRand_{\embbUser, \timeSlot, \baseStation, \subchannel}}
\newcommand{\embbMovingAverageRateTwoRelax}{\movingAverageRate_{\embbUser, \timeSlot}^{\prime}}
\newcommand{\embbMovingAverageRateTwoRelaxUserCandidate}{\movingAverageRate_{\embbUserCandidate, \timeSlot}^{\prime}}
\newcommand{\embbMovingAverageRateTwoRelaxDecrement}{\movingAverageRate_{\embbUser, \timeSlotDecrement}^{\prime}}
\newcommand{\embbMovingAverageRateTwoRelaxCur}{\movingAverageRate_{\embbUser, \timeSlotCur}^{\prime}}
\newcommand{\embbMovingAverageRateTwoRelaxInitial}{\movingAverageRate_{\embbUser, 0}^{\prime}}
\newcommand{\embbAverageRateRandOne}{\averageRateRand_{\embbUser}}
\newcommand{\embbAverageRateRandOneRelax}{\embbAverageRateRandOne^{\prime}}

\newcommand{\urllcUser}{v}
\newcommand{\urllcUserSet}{\set{\urllcUser}}
\newcommand{\urllcUsersNum}{\setNum{\urllcUser}}
\newcommand{\urllcUserCandidate}{\hat{\urllcUser}}
\newcommand{\urllcRa}{\beta}
\newcommand{\urllcRaCandidate}{\hat{\urllcRa}}
\newcommand{\urllcRaVec}{\vec{\urllcRa}}
\newcommand{\urllcRaVecCandidate}{\hat{\urllcRaVec}}
\newcommand{\urllcRaVecTwoCur}{\urllcRaVec_{\timeSlotCur, \timeMinislotCur}}
\newcommand{\urllcRaVecOneSlotCur}{\urllcRaVec_{\timeSlotCur}}
\newcommand{\urllcRaVecOneCandidateSlotCur}{\urllcRaVecCandidate_{\timeSlotCur}}
\newcommand{\urllcRaVecTwoCandidateSlotCur}{\urllcRaVecCandidate_{\timeSlotCur, \timeMinislot}}
\newcommand{\urllcRaSix}{\urllcRa_{\urllcUser, \embbUser, \timeSlot, \timeMinislot, \baseStation, \subchannel}}
\newcommand{\urllcRaSixCur}{\urllcRa_{\urllcUser, \embbUser, \timeSlotCur, \timeMinislotCur, \baseStation, \subchannel}}
\newcommand{\urllcRaSixSlotCur}{\urllcRa_{\urllcUser, \embbUser, \timeSlotCur, \timeMinislot, \baseStation, \subchannel}}
\newcommand{\urllcNpRa}{\gamma}
\newcommand{\urllcNpRaCandidate}{\hat{\urllcNpRa}}
\newcommand{\urllcNpRaVec}{\vec{\urllcNpRa}}
\newcommand{\urllcNpRaVecCandidate}{\hat{\urllcNpRaVec}}
\newcommand{\urllcNpRaVecTwoCur}{\urllcNpRaVec_{\timeSlotCur, \timeMinislotCur}}
\newcommand{\urllcNpRaFiveCandidateCur}{\urllcNpRaCandidate_{\urllcUser, \timeSlotCur, \timeMinislotCur, \baseStation, \subchannel}}
\newcommand{\urllcNpRaFiveCur}{\urllcNpRa_{\urllcUser, \timeSlotCur, \timeMinislotCur, \baseStation, \subchannel}}
\newcommand{\urllcLa}{\delta}
\newcommand{\urllcLaCandidate}{\hat{\urllcLa}}
\newcommand{\urllcLaVec}{\vec{\urllcLa}}
\newcommand{\urllcLaVecCandidate}{\hat{\urllcLaVec}}
\newcommand{\urllcLaVecTwoCur}{\urllcLaVec_{\timeSlotCur, \timeMinislotCur}}
\newcommand{\urllcLaVecOneSlotCur}{\urllcLaVec_{\timeSlotCur}}
\newcommand{\urllcLaVecOneCandidateSlotCur}{\urllcLaVecCandidate_{\timeSlotCur}}
\newcommand{\urllcLaVecTwoCandidateCur}{\urllcLaVecCandidate_{\timeSlotCur, \timeMinislotCur}}
\newcommand{\urllcLaVecTwoCandidateSlotCur}{\urllcLaVecCandidate_{\timeSlotCur, \timeMinislot}}
\newcommand{\urllcLaFour}{\urllcLa_{\urllcUser, \timeSlot, \timeMinislot, \baseStation}}
\newcommand{\urllcLaFourCandidateCur}{\urllcLaCandidate_{\urllcUser, \timeSlotCur, \timeMinislotCur, \baseStation}}
\newcommand{\urllcLaFourCandidateUserCandidateCur}{\urllcLaCandidate_{\urllcUserCandidate, \timeSlotCur, \timeMinislotCur, \baseStation}}
\newcommand{\urllcLaFourCur}{\urllcLa_{\urllcUser, \timeSlotCur, \timeMinislotCur, \baseStation}}
\newcommand{\urllcLaFourSlotCur}{\urllcLa_{\urllcUser, \timeSlotCur, \timeMinislot, \baseStation}}
\newcommand{\urllcRateThreeCur}{\sum_{\embbUser, \baseStation, \subchannel}{\urllcPeakRateFourCur \urllcRaSixCur}}
\newcommand{\urllcRateRandThree}{\rateRand_{\urllcUser, \timeSlot, \timeMinislot}}
\newcommand{\urllcRateRandThreeSlotCur}{\sum_{\embbUser, \baseStation, \subchannel}{\urllcPeakRateRandFourSlotCur \urllcRaSixSlotCur}}
\newcommand{\urllcNpRateThreeCur}{\sum_{\baseStation, \subchannel}{\urllcPeakRateFourCur \urllcNpRaFiveCur}}
\newcommand{\urllcPeakRateFour}{\peakRate_{\urllcUser, \timeSlot, \timeMinislot, \baseStation}}
\newcommand{\urllcPeakRateFourUserCandidateCur}{\peakRate_{\urllcUserCandidate, \timeSlotCur, \timeMinislotCur, \baseStation}}
\newcommand{\urllcPeakRateFourCur}{\peakRate_{\urllcUser, \timeSlotCur, \timeMinislotCur, \baseStation}}
\newcommand{\urllcPeakRateFourCurBaseStationCandidate}{\peakRate_{\urllcUser, \timeSlotCur, \timeMinislotCur, \baseStationCandidate}}
\newcommand{\urllcPeakRateRandFourCur}{\peakRateRand_{\urllcUser, \timeSlotCur, \timeMinislotCur, \baseStation}}
\newcommand{\urllcPeakRateRandFourSlotCur}{\peakRateRand_{\urllcUser, \timeSlotCur, \timeMinislot, \baseStation}}
\newcommand{\urllcMaxRate}{\const{\rate}^{mx}}
\newcommand{\urllcMaxRateThree}{\urllcMaxRate_{\urllcUser, \timeSlot, \timeMinislot}}
\newcommand{\urllcMaxRateThreeUserCandidateCur}{\urllcMaxRate_{\urllcUserCandidate, \timeSlotCur, \timeMinislotCur}}
\newcommand{\urllcMaxRateThreeCur}{\urllcMaxRate_{\urllcUser, \timeSlotCur, \timeMinislotCur}}
\newcommand{\demand}{\const{\rate}^{dm}}
\newcommand{\demandThreeUserCandidateCur}{\demand_{\urllcUserCandidate, \timeSlotCur, \timeMinislotCur}}
\newcommand{\demandThreeCur}{\demand_{\urllcUser, \timeSlotCur, \timeMinislotCur}}
\newcommand{\demandRand}{\const{\rateRand}^{dm}}
\newcommand{\demandRandThree}{\demandRand_{\urllcUser, \timeSlot, \timeMinislot}}
\newcommand{\demandRandThreeCur}{\demandRand_{\urllcUser, \timeSlotCur, \timeMinislotCur}}
\newcommand{\demandRandThreeSlotCur}{\demandRand_{\urllcUser, \timeSlotCur, \timeMinislot}}
\newcommand{\cost}{c}
\newcommand{\costThree}{\cost_{\timeSlot, \baseStation, \subchannel}}
\newcommand{\costThreeCur}{\cost_{\timeSlotCur, \baseStation, \subchannel}}
\newcommand{\costThreeCurSubchannelCandidate}{\cost_{\timeSlotCur, \baseStation, \subchannelCandidate}}
\newcommand{\minCost}{\cost^{mn}}
\newcommand{\minCostOne}{\minCost_{\timeSlot}}
\newcommand{\minCostOneCur}{\minCost_{\timeSlotCur}}
\newcommand{\minCostTwoCur}{\minCost_{\timeSlotCur, \baseStation}}
\newcommand{\minCostTwoCurBaseStationCandidate}{\minCost_{\timeSlotCur, \baseStationCandidate}}
\newcommand{\maxCost}{\cost^{mx}}
\newcommand{\maxCostOne}{\maxCost_{\timeSlot}}
\newcommand{\maxCostOneCur}{\maxCost_{\timeSlotCur}}
\newcommand{\maxCostTwoCur}{\maxCost_{\timeSlotCur, \baseStation}}
\newcommand{\associationSubchannelsNumCandidateUserCandidateCur}{\ceil{\frac{\demandThreeUserCandidateCur}{\urllcPeakRateFourUserCandidateCur}} \urllcLaFourCandidateUserCandidateCur}
\newcommand{\nearestAssociationSubchannelsNumCandidateUserCandidateCur}{\ceil{\frac{\demandThreeUserCandidateCur}{\urllcMaxRateThreeUserCandidateCur}} \urllcLaFourCandidateUserCandidateCur}
\newcommand{\allocatingSubchannelsNumThreeCur}{\setNum{k}_{\timeSlotCur, \timeMinislotCur, \baseStation}}

\newcommand{\timeSlot}{n}
\newcommand{\timeSlotSet}{\set{\timeSlot}}
\newcommand{\timeSlotsNum}{\setNum{\timeSlot}}
\newcommand{\timeSlotDecrement}{\timeSlot - 1}
\newcommand{\timeSlotCur}{\timeSlot_{0}}
\newcommand{\nonzeroTimeSlots}{\timeSlot = 1, \dots, \timeSlotsNum - 1}

\newcommand{\timeMinislot}{m}
\newcommand{\timeMinislotSet}{\set{\timeMinislot}}
\newcommand{\timeMinislotsNum}{\setNum{\timeMinislot}}
\newcommand{\timeMinislotCur}{\timeMinislot_{0}}

\newcommand{\baseStation}{s}
\newcommand{\baseStationSet}{\set{\baseStation}}
\newcommand{\baseStationsNum}{\setNum{\baseStation}}
\newcommand{\baseStationCandidate}{\hat{\baseStation}}

\newcommand{\subchannel}{l}
\newcommand{\subchannelSet}{\set{\subchannel}}
\newcommand{\subchannelCandidate}{\hat{\subchannel}}
\newcommand{\subchannelsNum}{\setNum{\subchannel}}

\newcommand{\rate}{r}
\newcommand{\peakRate}{\const{\rate}}
\newcommand{\movingAverageRate}{\tilde{\rate}}
\newcommand{\rateRand}{R}
\newcommand{\peakRateRand}{\const{\rateRand}}
\newcommand{\averageRateRand}{\bar{\rateRand}}

\newcommand{\unit}[1]{\left[#1\right]}
\newcommand{\bpsl}{\unit{\frac{bits}{slot}}}

\newcommand{\utilityFunction}[1]{g(#1)}
\newcommand{\utilityCompositeFunction}[1]{\ln{#1}}

\newcommand{\smoothingFactor}{\epsilon}

\newcommand
{\embbMovingAverageRateInitialValuePolicy}
{
\forall\embbUser \colon \forall\baseStation \colon \forall\subchannel \colon \embbRaFourRelaxCandidate =
  \begin{cases}
    \frac{1}{\embbUsersNum} &\timeSlot = 0\\
    0 &\nonzeroTimeSlots
  \end{cases}
}

\newcommand
{\embbPolicy}
{
\forall\baseStation \colon \forall\subchannel \colon \embbRaFourCandidate =
  \begin{cases}
    1 &\embbUser = \min_{\embbUserCandidate}{\argmax_{\embbUserCandidate}{\frac{\embbPeakRateFourUserCandidate}{\embbMovingAverageRateTwoRelaxUserCandidate}}}\\
    0 &\text{otherwise}
  \end{cases}
}

\newcommand
{\nearestAssociationLa}
{
\forall\urllcUser \colon \urllcLaFourCandidateCur =
  \begin{cases}
    1 &\baseStation = \min_{\baseStationCandidate}{\argmax_{\baseStationCandidate}{\urllcPeakRateFourCurBaseStationCandidate}}\\
    0 &\text{otherwise}
  \end{cases}
}

\newcommand
{\nearestAssociation}
{
\nearestAssociationLa,\\
\forall\baseStation \colon \forall\urllcUser \colon \urllcNpRaFiveCandidateCur =
  \begin{cases}
    1 &
      \begin{aligned}
        &\sum_{\urllcUserCandidate = 0}^{\urllcUser - 1}{\nearestAssociationSubchannelsNumCandidateUserCandidateCur}\\
        \leq &\subchannel\\
        \leq &\left(\sum_{\urllcUserCandidate = 0}^{\urllcUser}{\nearestAssociationSubchannelsNumCandidateUserCandidateCur}\right) - 1
      \end{aligned}\\
    0 &\text{otherwise}
  \end{cases}
}

\newcommand
{\tightestAssociation}
{
\forall\urllcUser \colon \urllcLaFourCandidateCur =
  \begin{cases}
    1 &\baseStation = \min_{\baseStationCandidate}{\argmin_{\baseStationCandidate}{\minCostTwoCurBaseStationCandidate \ceil{\frac{\demandThreeCur}{\urllcPeakRateFourCurBaseStationCandidate}}}}\\
    0 &\text{otherwise}
  \end{cases},\\
\forall\baseStation \colon \forall\urllcUser \colon \urllcNpRaFiveCandidateCur =
  \begin{cases}
    1 &
      \begin{aligned}
        &\sum_{\urllcUserCandidate = 0}^{\urllcUser - 1}{\associationSubchannelsNumCandidateUserCandidateCur}\\
        \leq &\subchannel\\
        \leq &\left(\sum_{\urllcUserCandidate = 0}^{\urllcUser}{\associationSubchannelsNumCandidateUserCandidateCur}\right) - 1
      \end{aligned}\\
    0 &\text{otherwise}
  \end{cases}
}

\newcommand
{\embbProblem}
[1]
{
\begin{maxi!}
  {\embbRaVec}{\sum_{\embbUser}{\utilityCompositeFunction{\embbAverageRateRandOne}}}
  {}{}
  \addConstraint
    {\sum_{\embbUser}{\embbRaFour}}
    {\leq 1}
    {\forall\timeSlot \forall\baseStation \forall\subchannel}
  \addConstraint
    {\embbRaFour}
    {\in \setDst{0, 1}}
    {\forall\embbUser \forall\timeSlot \forall\baseStation \forall\subchannel}{#1}
\end{maxi!}
}

\newcommand
{\relaxedEmbbProblem}
[1]
{
\begin{maxi!}
  {\embbRaVecRelax}{\sum_{\embbUser}{\utilityCompositeFunction{\embbAverageRateRandOneRelax}}}
  {}{}
  \addConstraint
    {\sum_{\embbUser}{\embbRaFourRelax}}
    {\leq 1}
    {\forall\timeSlot \forall\baseStation \forall\subchannel}
  \addConstraint
    {\embbRaFourRelax}
    {\geq 0}
    {\forall\embbUser \forall\timeSlot \forall\baseStation \forall\subchannel}{#1}
\end{maxi!}
}

\newcommand
{\gradientProblem}
[1]
{
\begin{maxi!}
  {\embbRaVecOneRelaxCur}{\sum_{\embbUser}{\frac{\embbRateTwoRelaxCur}{\embbMovingAverageRateTwoRelaxCur}}}
  {}{}
  \addConstraint
    {\sum_{\embbUser}{\embbRaFourRelaxCur}}
    {\leq 1}
    {\forall\baseStation \forall\subchannel}
  \addConstraint
    {\embbRaFourRelaxCur}
    {\geq 0}
    {\forall\embbUser \forall\baseStation \forall\subchannel}{#1}
\end{maxi!}
}

\newcommand
{\urllcProblem}
[1]
{
\begin{maxi!}[1]
  {\urllcRaVecOneSlotCur, \urllcLaVecOneSlotCur}{\sum_{\embbUser}{\frac{\embbRateTwoRelaxCur}{\embbMovingAverageRateTwoRelaxCur}}}
  {}{}
  \addConstraint
    {\sum_{\baseStation}{\urllcLaFourSlotCur}}
    {\leq 1}
    {\forall\urllcUser \forall\timeMinislot}
  \addConstraint
    {\urllcRaSixSlotCur}
    {\leq \urllcLaFourSlotCur}
    {\forall\urllcUser \forall\embbUser \forall\timeMinislot \forall\baseStation \forall\subchannel}
  \addConstraint
    {\urllcLaFourSlotCur}
    {\in \setDst{0, 1}}
    {\forall\urllcUser \forall\timeMinislot \forall\baseStation}
  \addConstraint
    {\sum_{\urllcUser}{\urllcRaSixSlotCur}}
    {\leq \embbRaFourCandidateCur}
    {\forall\embbUser \forall\timeMinislot \forall\baseStation \forall\subchannel}
  \addConstraint
    {\urllcRateRandThreeSlotCur}
    {\geq \demandRandThreeSlotCur}
    {\forall\urllcUser \forall\timeMinislot}
  \addConstraint
    {\urllcRaSixSlotCur}
    {\in \setDst{0, 1}}
    {\forall\urllcUser \forall\embbUser \forall\timeMinislot \forall\baseStation \forall\subchannel}{#1}
\end{maxi!}
}

\newcommand
{\puncturingProblem}
[1]
{
\begin{mini!}[1]
  {\urllcRaVecTwoCur, \urllcLaVecTwoCur}{\sum_{\urllcUser, \embbUser, \baseStation, \subchannel}{\frac{\embbPeakRateFourCur}{\embbMovingAverageRateTwoRelaxCur} \urllcRaSixCur}}
  {}{}
  \addConstraint
    {\sum_{\baseStation}{\urllcLaFourCur}}
    {\leq 1}
    {\forall\urllcUser}
  \addConstraint
    {\urllcRaSixCur}
    {\leq \urllcLaFourCur}
    {\forall\urllcUser \forall\embbUser \forall\baseStation \forall\subchannel}
  \addConstraint
    {\urllcLaFourCur}
    {\in \setDst{0, 1}}
    {\forall\urllcUser \forall\baseStation}
  \addConstraint
    {\sum_{\urllcUser}{\urllcRaSixCur}}
    {\leq \embbRaFourCandidateCur}
    {\forall\embbUser \forall\baseStation \forall\subchannel}
  \addConstraint
    {\urllcRateThreeCur}
    {\geq \demandThreeCur}
    {\forall\urllcUser}
  \addConstraint
    {\urllcRaSixCur}
    {\in \setDst{0, 1}}
    {\forall\urllcUser \forall\embbUser \forall\baseStation \forall\subchannel}{#1}
\end{mini!}
}

\newcommand
{\schedulingProblem}
[1]
{
\begin{mini!}[1]
  {\urllcNpRaVecTwoCur, \urllcLaVecTwoCur}{\sum_{\urllcUser, \baseStation, \subchannel}{\costThreeCur \urllcNpRaFiveCur}}
  {}{}
  \addConstraint
    {\sum_{\baseStation}{\urllcLaFourCur}}
    {\leq 1}
    {\forall\urllcUser}
  \addConstraint
    {\urllcNpRaFiveCur}
    {\leq \urllcLaFourCur}
    {\forall\urllcUser \forall\baseStation \forall\subchannel}
  \addConstraint
    {\urllcLaFourCur}
    {\in \setDst{0, 1}}
    {\forall\urllcUser \forall\baseStation}
  \addConstraint
    {\sum_{\urllcUser}{\urllcNpRaFiveCur}}
    {\leq 1}
    {\forall\baseStation \forall\subchannel}
  \addConstraint
    {\urllcNpRateThreeCur}
    {\geq \demandThreeCur}
    {\forall\urllcUser}
  \addConstraint
    {\urllcNpRaFiveCur}
    {\in \setDst{0, 1}}
    {\forall\urllcUser \forall\baseStation \forall\subchannel}{#1}
\end{mini!}
}
